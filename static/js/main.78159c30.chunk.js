(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{57:function(e,t,n){e.exports=n(94)},62:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){e.exports=n.p+"static/media/port.1b33f6c1.svg"},72:function(e,t,n){e.exports=n.p+"static/media/knob.23f417df.svg"},73:function(e,t,n){var o={"./pulse.svg":74,"./sawtooth.svg":75,"./sine.svg":76,"./triangle.svg":77};function a(e){var t=r(e);return n(t)}function r(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(o)},a.resolve=r,e.exports=a,a.id=73},74:function(e,t,n){e.exports=n.p+"static/media/pulse.f9689bc2.svg"},75:function(e,t,n){e.exports=n.p+"static/media/sawtooth.de511017.svg"},76:function(e,t,n){e.exports=n.p+"static/media/sine.e1994103.svg"},77:function(e,t,n){e.exports=n.p+"static/media/triangle.87d20148.svg"},84:function(e,t,n){},89:function(e,t,n){},91:function(e,t,n){e.exports=n.p+"static/media/screw_header.2c2805d6.svg"},92:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(51),c=n.n(r),i=(n(62),n(9)),u=n(10),l=n(12),d=n(11),s=n(13),p=n(8),h=n(29),m=n(54),f=n(6),v=n(112),b=n(30),O=n(78),y=n(33),g=n(2),C=n(3),I=n(97),E=n(115),j=n(22),_=n(116),w=n(46),M=n(95),T=n(96),D=n(119),A=function(e){return{type:"ADD_CABLE",portId:e.portId,fromPoint:e.fromPoint,color:e.color}},P=function(e){return{type:"MODIFY_CABLE",portId:e.portId,toPoint:e.toPoint,toPortId:e.toPortId}},k=function(e){return{type:"REMOVE_CABLE",portId:e}},x=function(e,t){return{type:"ADD_MODULE",moduleType:e,id:t}},S=function(e){return{type:"CONNECT_MODULES",output:e.output,input:e.input}},R=function(e){return{type:"DISCONNECT_MODULE",port:e}},V=function(e,t){return{type:"REGISTER_INPUTS",id:e,inputs:t}},N=function(e,t){return{type:"REGISTER_OUTPUTS",id:e,outputs:t}},F=function(){return{type:"UNSET_STARTING_PORT"}},L=function(e){return function(t,n){console.log("remove module",e);var o=n(),a=o.modules,r=a.modules,c=a.connections,i=o.cables.cables,u=r[e];if(u){var l=E.a(j.a,_.a(function(t){return w.a([e,t],c)}),M.a(function(n){t(R({moduleId:e,portId:n}));var o="".concat(e,"-").concat(n);i[o]||(o=E.a(_.a(T.a("toPortId",o)),j.a,D.a)(i)),t(k(o))}));u.inputs&&l(u.inputs),u.outputs&&l(u.outputs),t({type:"REMOVE_MODULE",moduleId:e})}}},U=n(56),B=n.n(U),q=n(47),G=n.n(q),W=(n(69),"ABOVE"),K="BELOW",Y=Object(p.b)(function(e,t){var n=e.modules;return{startingPort:n.startingPort,connections:n.connections[t.moduleId]}},{connectModules:S,disconnectModule:R,setStartingPort:function(e){return{type:"SET_STARTING_PORT",port:e}},unsetStartingPort:F,addCable:A,removeCable:k,modifyCable:P})(function(e){var t,o=e.label,r=e.labelPosition,c=void 0===r?W:r,i=e.portId,u=e.connections,l=e.connectModules,d=e.disconnectModule,s=e.moduleId,p=e.portType,h=e.startingPort,m=e.setStartingPort,v=e.unsetStartingPort,b=e.addCable,O=e.removeCable,y=e.modifyCable,g=o||i;return a.a.createElement("div",{className:B()("port",{disabled:h&&h.portType===p}),onMouseDown:function(e){e.stopPropagation();var n={portId:i,portType:p,moduleId:s};u[i]&&(d({moduleId:s,portId:i}),O("".concat(u[i].moduleId,"-").concat(u[i].portId))),m(n);var o=t.getBoundingClientRect(),a=o.x,r=o.y,c=o.width,l=o.height;b({portId:"".concat(s,"-").concat(i),fromPoint:{x:a+c/2,y:r+l/2},color:G()({luminosity:"dark"})})},onMouseUp:function(e){var n;if(v(),h&&h.portType!==p&&(h.moduleId!==s||h.id!==i)){e.stopPropagation();var o=t.getBoundingClientRect(),a=o.x,r=o.y,c=o.width,d=o.height;!u[i]||u[i].moduleId===h.moduleId&&u[i].portId===h.portId||(O("".concat(u[i].moduleId,"-").concat(u[i].portId)),O("".concat(s,"-").concat(i))),y({portId:"".concat(h.moduleId,"-").concat(h.portId),toPoint:{x:a+c/2,y:r+d/2},toPortId:"".concat(s,"-").concat(i)}),l((n={},Object(f.a)(n,h.portType,h),Object(f.a)(n,p,{moduleId:s,portId:i}),n))}}},c===W&&g,a.a.createElement("img",{id:"".concat(s,"-").concat(i),height:"30",width:"30",ref:function(e){return t=e},onMouseDown:function(e){return e.preventDefault()},src:n(71),alt:"".concat(s,"-").concat(i)}),c===K&&g)}),Q=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleMouseMove=n.handleMouseMove.bind(Object(g.a)(Object(g.a)(n))),n.handleMouseDown=n.handleMouseDown.bind(Object(g.a)(Object(g.a)(n))),n.handleMouseUp=n.handleMouseUp.bind(Object(g.a)(Object(g.a)(n))),n.calculateValueAngle=n.calculateValueAngle.bind(Object(g.a)(Object(g.a)(n))),n}return Object(s.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("mousemove",this.handleMouseMove)}},{key:"handleMouseMove",value:function(e){var t=this.props,n=t.isMoving,o=t.onChange,a=t.max,r=t.min,c=t.step;if(n&&(e.stopPropagation(),e.preventDefault(),1===e.buttons)){var i=this._elem.getBoundingClientRect(),u=i.x,l=i.y,d=u+i.width/2,s=l+i.height/2,p=e.clientX-d,h=e.clientY-s,m=180*Math.atan2(h,p)/Math.PI;m<0&&(m+=360),(m-=120)<0&&(m+=360),m>315&&(m=0);var f=m/300*(a-r)+r;(f=Math.floor(f/c)*c)>a&&(f=a),o(f)}}},{key:"handleMouseDown",value:function(e){e.stopPropagation(),this.props.setIsMoving(!0)}},{key:"handleMouseUp",value:function(){this.props.setIsMoving(!1)}},{key:"calculateValueAngle",value:function(){var e=this.props,t=e.min,n=e.max;return 2*((e.value-t)/(n-t))*150}},{key:"render",value:function(){var e=this,t=this.props,o=t.label,r=t.height,c=void 0===r?50:r,i=t.width,u=void 0===i?50:i;return a.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},o,a.a.createElement("img",{ref:function(t){e._elem=t},style:{cursor:"pointer",margin:"auto",transform:"rotate(".concat(this.calculateValueAngle(),"deg)")},onMouseDown:this.handleMouseDown,alt:"knob",src:n(72),height:c,width:u}))}}]),t}(o.Component),z=Object(C.a)(Object(C.c)("isMoving","setIsMoving",!1))(Q),H={container:{display:"flex",flexDirection:"column",height:"100%"},body:{display:"flex",flexDirection:"column",flex:1,justifyContent:"space-evenly"},spaceAround:{display:"flex",justifyContent:"space-around"}},X=function(e,t){var n=e.createOscillator();return n.type=t,n.frequency.value=0,n},J=function(e){function t(e){var n;Object(i.a)(this,t),n=Object(l.a)(this,Object(d.a)(t).call(this,e));var o=e.audioContext;if(!o)throw new Error("audioContext property must be provided");var a=o.createPulseOscillator();return a.frequency.value=0,a.width.value=0,n._oscillators={Sawtooth:X(o,"sawtooth"),Pulse:a,Triangle:X(o,"triangle"),Sine:X(o,"sine")},window.pulse=n._oscillators.Pulse,window["sine"+e.id]=n._oscillators.Sine,n._frequencyControl=o.createVoltToHzConverter(440,2),n._detuneControl=o.createConstantSource(),n._frequencyControl.volt.value=0,n._detuneControl.offset.value=0,n._fmGain=o.createGain(),n._fmGain.gain.value=0,n._fmGain.connect(n._frequencyControl.volt),I.a(function(e){return n._frequencyControl.connect(e.frequency)})(n._oscillators),I.a(function(e){return n._detuneControl.connect(e.detune)})(n._oscillators),n._pwCvGain=o.createGain(),n._pwCvGain.gain.value=0,n._pwCvGain.connect(n._oscillators.Pulse.width),window.pwm=n._pwCvGain,n.handleFrequencyChange=n.handleFrequencyChange.bind(Object(g.a)(Object(g.a)(n))),n.handleTuneChange=n.handleTuneChange.bind(Object(g.a)(Object(g.a)(n))),n.handlePwChange=n.handlePwChange.bind(Object(g.a)(Object(g.a)(n))),n.handlePwmCvChange=n.handlePwmCvChange.bind(Object(g.a)(Object(g.a)(n))),n.handleFmCvChange=n.handleFmCvChange.bind(Object(g.a)(Object(g.a)(n))),n}return Object(s.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.id,o=t.registerInputs,a=t.registerOutputs;this.startNodes(),o(n,{"V/Oct":{connect:function(t){return t.connect(e._frequencyControl.volt)},disconnect:function(t){return t.disconnect(e._frequencyControl.volt)}},PWM:{connect:function(t){return t.connect(e._pwCvGain)},disconnect:function(t){return t.disconnect(e._pwCvGain)}},FM:{connect:function(t){return t.connect(e._fmGain)},disconnect:function(t){return t.disconnect(e._fmGain)}}}),a(n,{Sawtooth:this._oscillators.Sawtooth,Pulse:this._oscillators.Pulse,Triangle:this._oscillators.Triangle,Sine:this._oscillators.Sine})}},{key:"handleFrequencyChange",value:function(e){this.props.setFrequency(e),this._frequencyControl.offset.value=e}},{key:"handleTuneChange",value:function(e){this.props.setTune(e),this._detuneControl.offset.value=e}},{key:"handlePwChange",value:function(e){this.props.setPw(e),this._oscillators.Pulse.width.value=e}},{key:"handlePwmCvChange",value:function(e){this.props.setPwmCv(e),this._pwCvGain.gain.value=e/10}},{key:"handleFmCvChange",value:function(e){this.props.setFmCv(e),this._fmGain.gain.value=e}},{key:"startNodes",value:function(){I.a(function(e){return e.start()})(this._oscillators),this._frequencyControl.start(),this._detuneControl.start()}},{key:"render",value:function(){var e=this.props,t=e.id,o=e.frequency,r=e.tune,c=e.pw,i=e.pwmCv,u=e.fmCv;return a.a.createElement("div",{style:H.container},a.a.createElement("span",null,"VCO"),a.a.createElement("div",{style:Object(y.a)({},H.body,{justifyContent:"space-between"})},a.a.createElement("div",{style:H.spaceAround},a.a.createElement("div",{style:Object(y.a)({},H.spaceAround,{flexDirection:"column"})},a.a.createElement(Y,{portId:"V/Oct",moduleId:t,portType:"input"}),a.a.createElement(Y,{portId:"FM",moduleId:t,portType:"input"}),a.a.createElement(Y,{portId:"PWM",moduleId:t,portType:"input"})),a.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},a.a.createElement(z,{label:"Range",min:-2,max:2,step:.001,value:o,width:30,height:30,onChange:this.handleFrequencyChange}),a.a.createElement(z,{label:"Tune",min:-600,max:600,step:1,value:r,width:30,height:30,onChange:this.handleTuneChange}),a.a.createElement(z,{label:"FM CV",min:0,max:1,step:.005,value:u,width:30,height:30,onChange:this.handleFmCvChange}),a.a.createElement(z,{label:"PW",min:-1,max:1,step:.001,value:c,width:30,height:30,onChange:this.handlePwChange}),a.a.createElement(z,{label:"PWM CV",min:0,max:1,step:.005,value:i,width:30,height:30,onChange:this.handlePwmCvChange}))),a.a.createElement("div",{style:H.spaceAround},E.a(j.a,b.a(function(e){return a.a.createElement(Y,{key:e,label:a.a.createElement("img",{width:25,src:n(73)("./".concat(e.toLowerCase(),".svg")),alt:e}),labelPosition:K,portId:e,moduleId:t,portType:"output"})}))(this._oscillators))))}}]),t}(o.Component),$=Object(C.a)(Object(C.b)("isBrowserSupported","undefined"!==typeof OscillatorNode&&"undefined"!==typeof ConstantSourceNode),Object(C.b)("panelWidth",8),Object(C.c)("frequency","setFrequency",0),Object(C.c)("tune","setTune",0),Object(C.c)("pw","setPw",0),Object(C.c)("pwmCv","setPwmCv",0),Object(C.c)("fmCv","setFmCv",0),Object(C.c)("vOct","setVOct",0),Object(p.b)(null,{connectModules:S,registerInputs:V,registerOutputs:N}))(J),Z=function(e){function t(e){var n;if(Object(i.a)(this,t),n=Object(l.a)(this,Object(d.a)(t).call(this,e)),!e.audioContext)throw new Error("audioContext property must be provided");return n._leftPanner=new StereoPannerNode(e.audioContext,{pan:-1}),n._rightPanner=new StereoPannerNode(e.audioContext,{pan:1}),n._leftPanner.connect(e.audioContext.destination),n._rightPanner.connect(e.audioContext.destination),n}return Object(s.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.id;(0,t.registerInputs)(n,{Left:{connect:function(t){return t.connect(e._leftPanner)},disconnect:function(t){return t.disconnect(e._leftPanner)}},Right:{connect:function(t){return t.connect(e._rightPanner)},disconnect:function(t){return t.disconnect(e._rightPanner)}}})}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.connections;return a.a.createElement("div",{style:H.container},a.a.createElement("span",null,"Stereo"),a.a.createElement("div",{style:H.body},a.a.createElement(Y,{portId:"Left",connections:n,moduleId:t,portType:"input"}),a.a.createElement(Y,{portId:"Right",connections:n,moduleId:t,portType:"input"})))}}]),t}(o.Component),ee=Object(C.a)(Object(C.b)("isBrowserSupported","undefined"!==typeof StereoPannerNode),Object(C.b)("panelWidth",4),Object(p.b)(function(e,t){return{connections:e.modules.connections[t.id]}},{connectModules:S,registerInputs:V}))(Z),te=function(e){function t(e){var n;if(Object(i.a)(this,t),n=Object(l.a)(this,Object(d.a)(t).call(this,e)),!e.audioContext)throw new Error("audioContext property must be provided");return n}return Object(s.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.id;(0,t.registerInputs)(n,{In:{connect:function(t){return t.connect(e.props.audioContext.destination)},disconnect:function(t){return t.disconnect(e.props.audioContext.destination)}}})}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.connections;return a.a.createElement("div",{style:H.container},a.a.createElement("span",null,"Mono"),a.a.createElement("div",{style:H.body},a.a.createElement(Y,{portId:"In",connections:n,moduleId:t,portType:"input"})))}}]),t}(o.Component),ne=Object(C.a)(Object(C.b)("isBrowserSupported",!0),Object(C.b)("panelWidth",4),Object(p.b)(function(e,t){return{connections:e.modules.connections[t.id]}},{connectModules:S,registerInputs:V}))(te),oe=n(98),ae=[90,83,88,68,67,86,71,66,72,78,74,77,188],re=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B","C"],ce={"C#":"1/4","D#":"3/6","F#":"6/9","G#":"8/11","A#":"10/13"},ie=function(e,t){return t-5+(e+3)/12},ue=function(e){function t(e){var n;if(Object(i.a)(this,t),n=Object(l.a)(this,Object(d.a)(t).call(this,e)),!e.audioContext)throw new Error("audioContext property must be provided");return n._gate=e.audioContext.createConstantSource(),n._gate.offset.value=0,n._gate.start(),n._cv=e.audioContext.createConstantSource(),n._cv.offset.value=0,n._cv.start(),n.handleKeyDown=n.handleKeyDown.bind(Object(g.a)(Object(g.a)(n))),n.handleKeyUp=n.handleKeyUp.bind(Object(g.a)(Object(g.a)(n))),n.handleOctaveChange=n.handleOctaveChange.bind(Object(g.a)(Object(g.a)(n))),n.handleKeyboardDown=n.handleKeyboardDown.bind(Object(g.a)(Object(g.a)(n))),n.handleKeyboardUp=n.handleKeyboardUp.bind(Object(g.a)(Object(g.a)(n))),n._keyboardDown=!1,n}return Object(s.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.id;(0,e.registerOutputs)(t,{CV:this._cv,Gate:this._gate}),document.addEventListener("keydown",this.handleKeyboardDown),document.addEventListener("keyup",this.handleKeyboardUp)}},{key:"handleKeyboardDown",value:function(e){var t=oe.a(e.keyCode,ae);this._keyboardDown||-1===t||(this._keyboardDown=!0,this.handleKeyDown(ie(t,this.props.octave)))}},{key:"handleKeyboardUp",value:function(){this._keyboardDown=!1,this.handleKeyUp()}},{key:"handleKeyDown",value:function(e){this.changeFrequency(e),this._gate.offset.value=1}},{key:"handleKeyUp",value:function(){this._gate.offset.value=0}},{key:"handleOctaveChange",value:function(e){var t=e.target.value,n=this.props,o=n.setOctave,a=n.octave,r=Number(t),c=this._cv.offset.value;this.changeFrequency(c+r-a),o(r)}},{key:"changeFrequency",value:function(e){this._cv.offset.value=e}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,o=t.connections,r=t.octave;return a.a.createElement("div",{style:H.container},a.a.createElement("span",null,"\xb5Keyboard"),a.a.createElement("div",{style:H.body},"Octave",a.a.createElement("select",{value:r,onChange:this.handleOctaveChange},a.a.createElement("option",{value:2},"-2"),a.a.createElement("option",{value:3},"-1"),a.a.createElement("option",{value:4},"0"),a.a.createElement("option",{value:5},"+1"),a.a.createElement("option",{value:6},"+2")),a.a.createElement("div",{style:{display:"grid",flex:1}},re.map(function(t,n){var o=t.endsWith("#"),c=o?ce[t]:n+1;return[a.a.createElement("div",{key:"TITLE_".concat(t).concat(n),style:{alignSelf:"center",gridRow:c,gridColumn:o?4:1}},t),a.a.createElement("button",{key:"".concat(t).concat(n),onMouseDown:function(t){t.stopPropagation(),e.handleKeyDown(ie(n,r))},onMouseUp:e.handleKeyUp,style:{height:20,width:20,gridRow:c,alignSelf:"center",gridColumn:o?3:2,backgroundColor:o?"black":"white"}})]})),a.a.createElement("div",{style:H.spaceAround},a.a.createElement(Y,{portId:"CV",connections:o,moduleId:n,portType:"output"}),a.a.createElement(Y,{portId:"Gate",connections:o,moduleId:n,portType:"output"}))))}}]),t}(o.Component),le=Object(C.a)(Object(C.b)("isBrowserSupported","undefined"!==typeof ConstantSourceNode),Object(C.b)("panelWidth",6),Object(C.c)("octave","setOctave",4),Object(p.b)(function(e,t){return{connections:e.modules.connections[t.id]}},{connectModules:S,registerOutputs:N}))(ue);for(var de,se,pe,he=function(e){return 15*Math.pow(e,4)+.001},me=function(e){function t(e){var n;if(Object(i.a)(this,t),n=Object(l.a)(this,Object(d.a)(t).call(this,e)),!e.audioContext)throw new Error("audioContext property must be provided");return n._adsr=e.audioContext.createConstantSource(),n._adsr.offset.value=0,n.handleGateInChange=n.handleGateInChange.bind(Object(g.a)(Object(g.a)(n))),n}return Object(s.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.id,o=t.registerInputs,a=t.registerOutputs;this._adsr.start(),o(n,{Gate:{connect:function(t){return e._gateInterval=function(e,t){var n=null,o=function(o){if(e[o]instanceof AudioParam){var a=e[o].value;return t(a),n=setInterval(function(){a!==e[o].value&&(a=e[o].value,t(a))},0),"break"}};for(var a in e)if("break"===o(a))break;return n}(t,e.handleGateInChange)},disconnect:function(){e._gateInterval&&(clearInterval(e._gateInterval),e._gateInterval=null)}}}),a(n,{Out:this._adsr})}},{key:"handleGateInChange",value:function(e){var t=this.props,n=t.sustain,o=t.audioContext,a=he(this.props.attack),r=he(this.props.decay),c=he(this.props.release),i=o.currentTime,u=this._adsr.offset;1===e?(u.cancelScheduledValues(0),u.linearRampToValueAtTime(0,i+.01),u.linearRampToValueAtTime(1,i+a),u.linearRampToValueAtTime(n,i+a+r)):0===e&&(u.cancelScheduledValues(0),u.setValueAtTime(u.value,i),u.linearRampToValueAtTime(0,i+c))}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.connections,o=e.attack,r=e.setAttack,c=e.decay,i=e.setDecay,u=e.sustain,l=e.setSustain,d=e.release,s=e.setRelease;return a.a.createElement("div",{style:H.container},a.a.createElement("span",null,"ADSR"),a.a.createElement("div",{style:H.body},"Attack:",a.a.createElement(z,{min:0,max:1,step:.001,value:o,onChange:function(e){return r(e)},width:30,height:30}),"Decay:",a.a.createElement(z,{min:0,max:1,step:.001,value:c,onChange:function(e){return i(e)},width:30,height:30}),"Sustain:",a.a.createElement(z,{min:0,max:1,step:.01,value:u,onChange:function(e){return l(Number(e))},width:30,height:30}),"Release:",a.a.createElement(z,{min:0,max:1,step:.001,value:d,onChange:function(e){return s(Number(e))},width:30,height:30}),a.a.createElement("div",{style:H.spaceAround},a.a.createElement(Y,{portId:"Gate",connections:n,moduleId:t,portType:"input"}),a.a.createElement(Y,{portId:"Out",connections:n,moduleId:t,portType:"output"}))))}}]),t}(o.Component),fe=Object(C.a)(Object(C.b)("isBrowserSupported","undefined"!==typeof ConstantSourceNode),Object(C.b)("panelWidth",6),Object(C.c)("attack","setAttack",.5),Object(C.c)("decay","setDecay",.5),Object(C.c)("sustain","setSustain",.5),Object(C.c)("release","setRelease",.5),Object(p.b)(function(e,t){return{connections:e.modules.connections[t.id]}},{connectModules:S,registerInputs:V,registerOutputs:N}))(me),ve=function(e){function t(e){var n;if(Object(i.a)(this,t),n=Object(l.a)(this,Object(d.a)(t).call(this,e)),!e.audioContext)throw new Error("audioContext property must be provided");return n._gain=e.audioContext.createGain(),n}return Object(s.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.id,o=t.registerInputs,a=t.registerOutputs,r=t.audioContext;o(n,{In:{connect:function(t){return t.connect(e._gain)},disconnect:function(t){return t.disconnect(e._gain)}},CV:{connect:function(t){e._gain.gain.linearRampToValueAtTime(0,r.currentTime+.01),t.connect(e._gain.gain)},disconnect:function(t){e._gain.gain.linearRampToValueAtTime(1,r.currentTime+.01),t.disconnect(e._gain.gain),t.offset&&(t.offset.value=0)}}}),a(n,{Out:this._gain})}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.connections;return a.a.createElement("div",{style:H.container},a.a.createElement("span",null,"VCA"),a.a.createElement("div",{style:H.body},a.a.createElement(Y,{portId:"In",connections:n,moduleId:t,portType:"input"}),a.a.createElement(Y,{portId:"CV",connections:n,moduleId:t,portType:"input"}),a.a.createElement(Y,{portId:"Out",connections:n,moduleId:t,portType:"output"})))}}]),t}(o.Component),be=Object(C.a)(Object(C.b)("isBrowserSupported","undefined"!==typeof GainNode),Object(C.b)("panelWidth",4),Object(p.b)(function(e,t){return{connections:e.modules.connections[t.id]}},{connectModules:S,registerInputs:V,registerOutputs:N}))(ve),Oe=function(e){function t(e){var n;if(Object(i.a)(this,t),n=Object(l.a)(this,Object(d.a)(t).call(this,e)),!e.audioContext)throw new Error("audioContext property must be provided");return n._vcf=e.audioContext.createBiquadFilter(),n._vcf.type="lowpass",n._vcf.Q.value=.5,n.handleFrequencyChange=n.handleFrequencyChange.bind(Object(g.a)(Object(g.a)(n))),n.handleTypeChange=n.handleTypeChange.bind(Object(g.a)(Object(g.a)(n))),n.setPitch=n.setPitch.bind(Object(g.a)(Object(g.a)(n))),n.handleQChange=n.handleQChange.bind(Object(g.a)(Object(g.a)(n))),n.setQuality=n.setQuality.bind(Object(g.a)(Object(g.a)(n))),n}return Object(s.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.id,o=t.registerInputs,a=t.registerOutputs;o(n,{In:{connect:function(t){return t.connect(e._vcf)},disconnect:function(t){return t.disconnect(e._vcf)}}}),a(n,{Out:this._vcf})}},{key:"handleFrequencyChange",value:function(e){this.props.setFrequency(Number(e),this.setPitch)}},{key:"setPitch",value:function(){var e=this.props,t=e.frequency,n=e.audioContext,o=n.sampleRate/2,a=Math.log(o/40)/Math.LN2,r=Math.pow(2,a*(t-1));this._vcf.frequency.setValueAtTime(o*r,n.currentTime)}},{key:"handleQChange",value:function(e){this.props.setQ(Number(e),this.setQuality)}},{key:"handleTypeChange",value:function(e){var t=e.target.value;this.props.setType(t),this._vcf.type=t}},{key:"setQuality",value:function(){var e=this.props.q;this._vcf.Q.value=30*e}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,o=t.connections,r=t.type,c=t.frequency,i=t.q;return a.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},a.a.createElement("span",null,"VCF"),"Shape:",a.a.createElement("select",{value:r,onChange:this.handleTypeChange},a.a.createElement("option",{value:"lowpass"},"Low Pass"),a.a.createElement("option",{value:"highpass"},"High Pass")),"Frequency:",a.a.createElement(z,{min:0,max:1,step:.01,value:c,onChange:function(t){return e.handleFrequencyChange(t)}}),"Q:",a.a.createElement(z,{min:0,max:1,step:.01,value:i,onChange:function(t){return e.handleQChange(t)}}),a.a.createElement(Y,{portId:"In",connections:o,moduleId:n,portType:"input"}),a.a.createElement(Y,{portId:"Out",connections:o,moduleId:n,portType:"output"}))}}]),t}(o.Component),ye=Object(C.a)(Object(C.b)("isBrowserSupported","undefined"!==typeof BiquadFilterNode),Object(C.b)("panelWidth",6),Object(C.c)("type","setType","lowpass"),Object(C.c)("frequency","setFrequency",.1),Object(C.c)("q","setQ",.5),Object(p.b)(function(e,t){return{connections:e.modules.connections[t.id]}},{connectModules:S,registerInputs:V,registerOutputs:N}))(Oe),ge={VCO:"VCO",STEREO_AUDIO_INTERFACE:"STEREO_AUDIO_INTERFACE",MONO_AUDIO_INTERFACE:"MONO_AUDIO_INTERFACE",KEYBOARD:"KEYBOARD",ADSR:"ADSR",VCA:"VCA",VCF:"VCF"},Ce=b.a(O.a(1))(ge),Ie=n(99),Ee=n(100),je=n(101),_e=n(113),we=n(102),Me=n(114),Te=n(103),De=n(80),Ae=n(104),Pe=n(79),ke=n(105),xe=n(120),Se=n(81),Re=Ie.a(function(e,t){var n=e.moduleId,o=e.portId;return Ee.a(je.a(_e.a(we.a),[n,o]),E.a(w.a([n,o]),function(e){return Me.a([e.moduleId,e.portId],t)}))(t)}),Ve=Object(v.a)((de={},Object(f.a)(de,"ADD_MODULE",function(e,t){var n=t.moduleType,o=function(e){var t=e.type,n=e.id,o={id:(void 0===n?void 0:n)||"".concat(t).concat(Ce[t])};switch(t){case ge.VCO:o.Module=$;break;case ge.STEREO_AUDIO_INTERFACE:o.Module=ee;break;case ge.MONO_AUDIO_INTERFACE:o.Module=ne;break;case ge.KEYBOARD:o.Module=le;break;case ge.ADSR:o.Module=fe;break;case ge.VCF:o.Module=ye;break;case ge.VCA:o.Module=be;break;default:throw new Error("Cannot create module of type: ".concat(t))}return o.Module.isBrowserSupported?(o.width=20*o.Module.panelWidth,Ce[t]++,o):null}({type:n,id:t.id});return o?(o.left=e.maxLeft,Te.a({modules:De.a(o.id,o),connections:De.a(o.id,{}),maxLeft:Ae.a(o.width)})(e)):(window.alert("Your browser doesn't support this module: ".concat(n)),e)}),Object(f.a)(de,"REGISTER_INPUTS",function(e,t){var n=t.id,o=t.inputs;return Te.a({modules:Te.a(Object(f.a)({},n,De.a("inputs",o)))})(e)}),Object(f.a)(de,"REGISTER_OUTPUTS",function(e,t){var n=t.id,o=t.outputs;return Te.a({modules:Te.a(Object(f.a)({},n,De.a("outputs",o)))})(e)}),Object(f.a)(de,"CONNECT_MODULES",function(e,t){var n,o=t.input,a=t.output;return Te.a({connections:E.a(Re(a),Re(o),Te.a((n={},Object(f.a)(n,o.moduleId,De.a(o.portId,{moduleId:a.moduleId,portId:a.portId})),Object(f.a)(n,a.moduleId,De.a(a.portId,{moduleId:o.moduleId,portId:o.portId})),n)))})(e)}),Object(f.a)(de,"DISCONNECT_MODULE",function(e,t){var n=t.port;return Te.a({connections:E.a(Re(n),Te.a(Object(f.a)({},n.moduleId,Pe.a(n.portId))))})(e)}),Object(f.a)(de,"SET_STARTING_PORT",function(e,t){var n=t.port;return Te.a({startingPort:O.a(n)})(e)}),Object(f.a)(de,"UNSET_STARTING_PORT",function(e){return Te.a({startingPort:O.a(null)})(e)}),Object(f.a)(de,"MOVE_MODULE",function(e,t){var n=t.moduleId,o=t.x,a=e.modules[n].left,r=e.modules[n].width,c=a+20*Math.floor((o-a)/20),i=c+r;return i>window.innerWidth?e:E.a(ke.a,xe.a(function(e){var t=e.id,o=e.left,a=o+e.width;return t!==n&&(o>=c&&o<i||o<c&&a>c||o===c&&a===i)}))(e.modules)?e:Te.a({modules:Te.a(Object(f.a)({},n,Te.a({left:O.a(c)}))),maxLeft:Se.a(c+e.modules[n].width)})(e)}),Object(f.a)(de,"REMOVE_MODULE",function(e,t){var n=t.moduleId,o=e.modules[n];return Te.a({modules:Pe.a(n),maxLeft:function(e){return o.left+o.width===e?o.left:e}})(e)}),de),{modules:{},connections:{},startingPort:null,maxLeft:20}),Ne=n(121),Fe=n(106),Le=n(107),Ue=n(108),Be=n(117),qe=n(109),Ge=n(122),We=function(e){return Te.a({x:Ae.a(e)})},Ke=Object(v.a)((se={},Object(f.a)(se,"ADD_CABLE",function(e,t){var n=t.portId,o=t.fromPoint,a=t.color;return Te.a({cables:De.a(n,{portId:n,fromPoint:o,toPoint:o,color:a})})(e)}),Object(f.a)(se,"MODIFY_CABLE",function(e,t){var n=t.portId,o=t.toPoint,a=t.toPortId;return Te.a({cables:Te.a(Object(f.a)({},n,Ne.a(Fe.a,{toPoint:o,toPortId:a})))})(e)}),Object(f.a)(se,"REMOVE_CABLE",function(e,t){var n=t.portId;return Te.a({cables:Pe.a(n)})(e)}),Object(f.a)(se,"MODIFY_MODULE_CABLES",function(e,t){var n=t.moduleId,o=t.diff;return Te.a({cables:b.a(Le.a([[Ue.a({portId:Be.a(n)}),Te.a({fromPoint:We(o)})],[Ue.a({toPortId:Be.a(n)}),Te.a({toPoint:We(o)})],[qe.a,Ge.a]]))})(e)}),se),{cables:{}}),Ye=function(e){return function(t){return Object(y.a)({},t,{isDirty:e})}},Qe=Object(v.a)((pe={},Object(f.a)(pe,"LOAD_PRESET_START",function(e){return Object(y.a)({},e,{presetLoading:!0})}),Object(f.a)(pe,"LOAD_PRESET_FINISH",function(e){return Object(y.a)({},Ye(!1)(e),{presetLoading:!1})}),Object(f.a)(pe,"REMOVE_MODULE",Ye(!0)),Object(f.a)(pe,"ADD_MODULE",Ye(!0)),Object(f.a)(pe,"REMOVE_CABLE",Ye(!0)),Object(f.a)(pe,"ADD_CABLE",Ye(!0)),pe),{presetLoading:!1,isDirty:!1}),ze=Object(h.c)({modules:Ve,cables:Ke,rack:Qe}),He=n(110),Xe=function(e){var t=e.getState;return function(e){return function(n){switch(n.type){case"CONNECT_MODULES":var o=t().modules,a=o.modules,r=o.connections,c=w.a([n.input.moduleId,"inputs",n.input.portId])(a),i=w.a([n.output.moduleId,"outputs",n.output.portId])(a);E.a(w.a([n.output.moduleId,n.output.portId]),He.a(we.a,E.a(function(e){var t=e.moduleId,n=e.portId;return w.a([t,"inputs",n])(a)},function(e){return e.disconnect(i)})))(r),E.a(w.a([n.input.moduleId,n.input.portId]),He.a(we.a,E.a(function(e){var t=e.moduleId,n=e.portId;return w.a([t,"outputs",n])(a)},function(e){return c.disconnect(e)})))(r),c&&i&&c.connect(i);break;case"DISCONNECT_MODULE":var u=t().modules,l=u.modules,d=u.connections,s=w.a([n.port.moduleId,"inputs",n.port.portId])(l);if(s)E.a(w.a([n.port.moduleId,n.port.portId]),function(e){var t=e.moduleId,n=e.portId;return w.a([t,"outputs",n])(l)},function(e){return s.disconnect(e)})(d);else{var p=w.a([n.port.moduleId,"outputs",n.port.portId])(l);E.a(w.a([n.port.moduleId,n.port.portId]),function(e){var t=e.moduleId,n=e.portId;return w.a([t,"inputs",n])(l)},function(e){return e.disconnect(p)})(d)}}return e(n)}}},Je=[m.a,Xe],$e=Object(h.d)(ze,h.a.apply(void 0,Je)),Ze=n(125),et=n(28),tt=Object(p.b)(null,{addModule:x})(function(e){var t=e.addModule;return a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return t(ge.KEYBOARD)}},"Add Keyboard"),a.a.createElement("button",{onClick:function(){return t(ge.VCO)}},"Add VCO"),a.a.createElement("button",{onClick:function(){return t(ge.VCA)}},"Add VCA"),a.a.createElement("button",{onClick:function(){return t(ge.ADSR)}},"Add ADSR"),a.a.createElement("button",{onClick:function(){return t(ge.VCF)}},"Add VCF"),a.a.createElement("button",{onClick:function(){return t(ge.STEREO_AUDIO_INTERFACE)}},"Add Stereo Audio Interface"),a.a.createElement("button",{onClick:function(){return t(ge.MONO_AUDIO_INTERFACE)}},"Add Mono Audio Interface"))}),nt=function(e){var t=e.fromPoint,n=e.toPoint,o=e.color;return a.a.createElement("path",{d:"M".concat(t.x," ").concat(t.y," q ").concat(function(e,t){var n=e.y>t.y?e:t,o=e.y<t.y?e:t,a=.1*Math.abs(t.x-e.x)+Math.abs(e.y-t.y)/.4,r=.5+Math.log(1+Math.abs((t.y-e.y)/(t.x-e.x)))/(3*Math.log(2));r=n.x<o.x?1-r:r;var c=(e.x<t.x?1:-1)*r*Math.abs(e.x-t.x)||e.x;return"".concat(c," ").concat(a)}(t,n)," ").concat(n.x-t.x," ").concat(n.y-t.y),opacity:.6,stroke:o,fill:"transparent",strokeWidth:6})},ot=Object(p.b)(function(e){var t=e.cables;return{cables:ke.a(t.cables)}},{})(function(e){var t=e.cables,n=e.scrollLeft;return a.a.createElement("svg",{style:{position:"absolute",left:-n,top:0,width:"calc(100% + ".concat(n,"px)"),height:"100%",pointerEvents:"none"}},t.map(function(e){var t=e.portId,n=e.fromPoint,o=e.toPoint,r=e.color;return a.a.createElement(nt,{key:t,fromPoint:n,toPoint:o,color:r})}))}),at={Basic:{modules:[{type:ge.KEYBOARD,id:"KEYBOARD1"},{type:ge.VCO,id:"VCO1"},{type:ge.VCF,id:"VCF1"},{type:ge.ADSR,id:"ADSR1"},{type:ge.VCA,id:"VCA1"},{type:ge.MONO_AUDIO_INTERFACE,id:"MONO_AUDIO_INTERFACE1"}],connections:[{input:{moduleId:"VCO1",portId:"V/Oct"},output:{moduleId:"KEYBOARD1",portId:"CV"}},{input:{moduleId:"VCF1",portId:"In"},output:{moduleId:"VCO1",portId:"Sine"}},{input:{moduleId:"ADSR1",portId:"Gate"},output:{moduleId:"KEYBOARD1",portId:"Gate"}},{input:{moduleId:"VCA1",portId:"In"},output:{moduleId:"VCF1",portId:"Out"}},{input:{moduleId:"VCA1",portId:"CV"},output:{moduleId:"ADSR1",portId:"Out"}},{input:{moduleId:"MONO_AUDIO_INTERFACE1",portId:"In"},output:{moduleId:"VCA1",portId:"Out"}}]}},rt=n(123),ct=n(111),it=n(118),ut=n(124),lt=Ie.a(function(e,t){var n=t.input,o=t.output;e(S(t));var a="".concat(n.moduleId,"-").concat(n.portId),r=document.getElementById(a).getBoundingClientRect();e(A({portId:a,color:G()({luminosity:"dark"}),fromPoint:{x:r.x+r.width/2,y:r.y+r.height/2}}));var c=document.getElementById("".concat(o.moduleId,"-").concat(o.portId)).getBoundingClientRect();e(P({portId:a,toPortId:"".concat(o.moduleId,"-").concat(o.portId),toPoint:{x:c.x+c.width/2,y:c.y+c.height/2}}))}),dt=function e(t,n,o){return function(){rt.a(n().modules.modules)?(M.a(function(e){return t(x(e.type,e.id))})(o.modules),setTimeout(st(t,n,o),10)):setTimeout(e(t,n,o),10)}},st=function e(t,n,o){return function(){var a=b.a(ct.a("id"),n().modules.modules),r=b.a(ct.a("id"),o.modules);rt.a(it.a(a,r))?(M.a(lt(t))(o.connections),setTimeout(pt(t,n,o.connections),50)):setTimeout(e(t,n,o),10)}},pt=function e(t,n,o){return function(){var a=n().modules.connections;ut.a(function(e){var t=a[e.input.moduleId];if(!t)return!1;var n=t[e.input.portId];return n&&n.moduleId===e.output.moduleId&&n.portId===e.output.portId},o)?t({type:"LOAD_PRESET_FINISH"}):setTimeout(e(t,n,o),10)}},ht=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).handlePresetChange=n.handlePresetChange.bind(Object(g.a)(Object(g.a)(n))),n}return Object(s.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDirty,o=t.setPreset;t.presetLoading||!n||e.isDirty||o("")}},{key:"handlePresetChange",value:function(e){var t=e.target.value,n=this.props,o=n.loadPreset;(0,n.setPreset)(t),o(at[t])}},{key:"render",value:function(){var e=this.props.preset;return a.a.createElement("div",null,a.a.createElement("select",{value:e,onChange:this.handlePresetChange},""===e&&a.a.createElement("option",{value:""},"Select Preset"),E.a(j.a,b.a(function(e){return a.a.createElement("option",{key:e,value:e},e)}))(at)))}}]),t}(o.Component),mt=Object(C.a)(Object(C.c)("preset","setPreset",""),Object(p.b)(function(e){var t=e.rack;return{isDirty:t.isDirty,presetLoading:t.presetLoading}},{loadPreset:function(e){return function(t,n){t({type:"LOAD_PRESET_START"}),t(function(e,t){console.log("remove all modules"),E.a(j.a,b.a(function(t){return e(L(t))}))(t().modules.modules),e({type:"REMOVE_ALL_MODULES"})}),setTimeout(dt(t,n,e),10)}}}))(ht),ft=(n(84),n(82)),vt=(n(89),function(){return a.a.createElement("img",{alt:"screw",src:n(91),height:14,width:14,style:{margin:5}})}),bt=function(e){var t=e.children;return a.a.createElement("div",{className:"panel_edge"},a.a.createElement(vt,null),t,a.a.createElement(vt,null))},Ot=Object(p.b)(null,{removeModule:L})(function(e){var t=e.children,n=e.dragging,o=e.setDragging,r=e.width,c=e.left,i=e.removeModule,u=e.moduleId;return a.a.createElement("div",{className:"module-panel",style:{width:r,left:c,cursor:n?"grabbing":"grab"},onMouseDown:function(){return o(!0)},onMouseUp:function(){return o(!1)}},a.a.createElement(bt,null,a.a.createElement("span",{onClick:function(){return i(u)},className:"btn_delete_module"},a.a.createElement(ft.a,{size:"xs",icon:"trash"}))),a.a.createElement("div",{className:"panel_content"},t),a.a.createElement(bt,null))}),yt=new Float32Array(256),gt=0;gt<128;gt++)yt[gt]=-1,yt[gt+128]=1;var Ct=new Float32Array(2);function It(){var e=this.createOscillator();e.type="sawtooth";var t=this.createWaveShaper();t.curve=yt,e.connect(t);var n=this.createGain();n.gain.value=0,e.width=n.gain,e.widthGain=n,n.connect(t);var o=this.createWaveShaper();return o.curve=Ct,e.connect(o),o.connect(n),e.connect=function(){return t.connect.apply(t,arguments),e},e.disconnect=function(){return t.disconnect.apply(t,arguments),e},e}Ct[0]=1,Ct[1]=1;var Et=function(e){for(var t=new Float32Array(8192),n=0;n<8192;n++){var o=n/8191*4-2;t[n]=e*Math.pow(2,o)}return t};function jt(e,t){var n=this.createConstantSource();n.volt=n.offset;var o=this.createWaveShaper(),a=this.createGain();return o.curve=Et(e),a.gain.value=1/t,n.connect(a).connect(o),n.connect=function(){return o.connect.apply(o,arguments),a},n.disconnect=function(){return o.disconnect.apply(o,arguments),a},n}var _t=function(e){function t(e){var n;Object(i.a)(this,t),n=Object(l.a)(this,Object(d.a)(t).call(this,e));var o=window.AudioContext||window.webkitAudioContext;return n._audioContext=new o,n._audioContext.createPulseOscillator=It,n._audioContext.createVoltToHzConverter=jt,n.handleMouseUp=n.handleMouseUp.bind(Object(g.a)(Object(g.a)(n))),n.handleMouseMove=n.handleMouseMove.bind(Object(g.a)(Object(g.a)(n))),n.handleDragging=n.handleDragging.bind(Object(g.a)(Object(g.a)(n))),n.handleRackScroll=n.handleRackScroll.bind(Object(g.a)(Object(g.a)(n))),n._analyser=n._audioContext.createAnalyser(),window.analyser=n._analyser,window.visuallize=n.visuallize=n.visuallize.bind(Object(g.a)(Object(g.a)(n))),n}return Object(s.a)(t,e),Object(u.a)(t,[{key:"visuallize",value:function(){var e=this._canvas,t=e.getContext("2d"),n=this._analyser;n.fftSize=1024;var o=new Float32Array(n.frequencyBinCount);e.width=o.length,e.height=200;var a=e.width,r=e.height;t.clearRect(0,0,a,r),function e(){setTimeout(function(){return window.v=requestAnimationFrame(e)},300),n.getFloatTimeDomainData(o),t.fillStyle="rgb(200, 200, 200)",t.fillRect(0,0,a,r),t.lineWidth=2,t.strokeStyle="rgb(0, 0, 0)",t.beginPath();for(var c=0,i=0;i<o.length;i++){c=i;var u=(.5+o[i]/2)*r;0===i?t.moveTo(c,u):t.lineTo(c,u)}t.stroke()}()}},{key:"componentDidUpdate",value:function(e){var t,n=this.props,o=n.modules,a=n.modifyModuleCables,r=Ze.a(function(n){var o=n.id,a=n.left;return t=Ze.a(Ue.a({id:et.a(o),left:_e.a(et.a(a))}))(e.modules),!we.a(t)})(o);r&&a({moduleId:r.id,diff:r.left-t.left})}},{key:"handleMouseUp",value:function(){var e=this.props,t=e.unsetStartingPort,n=e.removeCable,o=e.startingPort;o&&(n("".concat(o.moduleId,"-").concat(o.portId)),t())}},{key:"handleMouseMove",value:function(e){this.moveCable(e),this.dragModule(e)}},{key:"moveCable",value:function(e){var t=this.props,n=t.modifyCable,o=t.startingPort;o&&n({portId:"".concat(o.moduleId,"-").concat(o.portId),toPoint:{x:e.clientX,y:e.clientY}})}},{key:"dragModule",value:function(e){var t=this.props,n=t.draggingModuleId,o=t.moveModule;n&&o(n,e.clientX)}},{key:"handleDragging",value:function(e){var t=this;return function(n){t.props.setDraggingModuleId(n?e:null)}}},{key:"handleRackScroll",value:function(){this.props.setScrollLeft(document.getElementById("rack").scrollLeft)}},{key:"render",value:function(){var e=this,t=this.props,n=t.modules,o=t.draggingModuleId,r=t.scrollLeft;return a.a.createElement("div",{onMouseUp:this.handleMouseUp,onMouseMove:this.handleMouseMove,onScroll:this.handleRackScroll},a.a.createElement(tt,null),a.a.createElement(mt,null),a.a.createElement("div",null,a.a.createElement("div",{id:"rack",className:"rack"},n.map(function(t){var n=t.Module,r=t.id,c=t.width,i=t.left;return a.a.createElement(Ot,{key:r,moduleId:r,setDragging:e.handleDragging(r),dragging:r===o,width:c,left:i},a.a.createElement(n,{id:r,audioContext:e._audioContext}))})),a.a.createElement(ot,{scrollLeft:r})),a.a.createElement("canvas",{ref:function(t){return e._canvas=t},className:"visualizer",width:"640",height:"100"}))}}]),t}(o.Component),wt=Object(C.a)(Object(C.c)("draggingModuleId","setDraggingModuleId",null),Object(C.c)("scrollLeft","setScrollLeft",0),Object(p.b)(function(e){return{modules:ke.a(e.modules.modules),startingPort:e.modules.startingPort}},{modifyCable:P,removeCable:k,unsetStartingPort:F,moveModule:function(e,t){return{type:"MOVE_MODULE",moduleId:e,x:t}},modifyModuleCables:function(e){return{type:"MODIFY_MODULE_CABLES",moduleId:e.moduleId,diff:e.diff}}}))(_t),Mt=n(38),Tt=n(83);n(92);Mt.b.add(Tt.a);var Dt=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(p.a,{store:$e},a.a.createElement("div",{className:"App"},a.a.createElement(wt,null)))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(Dt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[57,2,1]]]);
//# sourceMappingURL=main.78159c30.chunk.js.map